<section>
    <div class="container">
        <div class="row mb-5 align-items-stretch justify-content-stretch height-500">
            <div class="col-lg-3 h-100">
                <div
                    class="leftpart height-500 scrollbar"
                    [ngClass]="!chats.length ? 'border-top border-dark' : ''">
                    <ng-container *ngFor="let chat of chats; let last = last">
                        <div
                            class="chat-info d-flex flex-column"
                            (click)="changeChat(chat.id)">
                            <div
                                class="info border-top border-bottom border-dark ps-2 m-0 pointer">
                                <ng-container *ngIf="chat.kaeufer">
                                    <h4>
                                        {{ chat.kaeufer.vorname }} {{ chat.kaeufer.nachname }}
                                        <span class="badge">Registriert</span>
                                    </h4>
                                </ng-container>
                                <ng-container *ngIf="chat.unregisteredKaeufer">
                                    <h4>Unregistrierter Benutzer</h4>
                                </ng-container>
                                <p class="time">{{ chat.produkt.name }}</p>
                            </div>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="!chats.length">
                        <div class="h-100 d-flex justify-content-center align-items-center">
                            <h4>Noch keine Chats :/</h4>
                        </div>
                    </ng-container>
                </div>
            </div>
            <div class="col-lg-9 flex-grow-1 height-500">
                <app-chat [chatId]="selectedChat" [role]="'VERKAEUFER'"></app-chat>
            </div>
        </div>
        <app-edit-user-data></app-edit-user-data>
        <div class="add-product mb-5 px-2">
            <button
                routerLink="/add-product"
                class="btn btn-blue w-100 fw-bold pt-3 pb-3 fw-bold fs-5">
                Neues Produkt hinzuf√ºgen
            </button>
        </div>
        <div class="you-product fw-bold mb-5">
            <p>Ihre Produkte</p>
        </div>
        <div
            class="d-flex justify-content-around flex-column flex-lg-row gap-3 flex-wrap">
            <ng-container *ngFor="let produkt of produkte">
                <app-product-card [produkt]="produkt" (removeProduct)="handleRemoveProduct($event)"></app-product-card>
            </ng-container>
        </div>
    </div>
</section>